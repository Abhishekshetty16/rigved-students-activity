Enter password: ****
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 20
Server version: 8.0.28 MySQL Community Server - GPL

Copyright (c) 2000, 2022, Oracle and/or its affiliates.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql> show databases;
+--------------------+
| Database           |
+--------------------+
| employe_table      |
| information_schema |
| mysql              |
| performance_schema |
| sys                |
+--------------------+
5 rows in set (0.01 sec)

mysql> use employe_table;
Database changed
mysql> show tables;
+-------------------------+
| Tables_in_employe_table |
+-------------------------+
| dept                    |
| emp                     |
| employee                |
| marks                   |
| product                 |
| product_history         |
| student                 |
+-------------------------+
7 rows in set (0.01 sec)

mysql> create table person(id int auto_increment,name varchar(50),gender varchar(50));
ERROR 1075 (42000): Incorrect table definition; there can be only one auto column and it must be defined as a key
mysql> create table person(id int primary key auto_increment,name varchar(50),gender varchar(50));
Query OK, 0 rows affected (0.09 sec)

mysql> insert into person(name,gender)values('Abhi','Male');
Query OK, 1 row affected (0.02 sec)

mysql> insert into person(name,gender)values('Akansha','Female');
Query OK, 1 row affected (0.04 sec)

mysql> insert into person(name,gender)values('Arun','Male');
Query OK, 1 row affected (0.01 sec)

mysql> select*from emp;
+----+--------+------------+--------+
| id | name   | dob        | salary |
+----+--------+------------+--------+
|  1 | Abhi   | 1998-05-16 | 321500 |
|  2 | Ajit   | 1996-08-09 |  45000 |
|  3 | Arun   | 1998-01-08 | 850000 |
|  4 | it     | 1298-02-05 |  20000 |
|  5 | Sach   | 2022-03-16 |  50235 |
|  6 | chandu | 1999-06-23 | 520063 |
+----+--------+------------+--------+
6 rows in set (0.01 sec)

mysql> select*from person;
+----+---------+--------+
| id | name    | gender |
+----+---------+--------+
|  1 | Abhi    | Male   |
|  2 | Akansha | Female |
|  3 | Arun    | Male   |
+----+---------+--------+
3 rows in set (0.00 sec)

mysql> delimiter $$
mysql> create procedure salutation(id pid int)
    -> begin
    -> declare g varchar(50);
    -> declare n varchar(50);
    -> select name into n from person where id=pid;
    -> select gender into g from person where id=pid;
    -> if lower(g)='male'
    -> then update person set name=concat('Mr',n)where id=pid;
    -> then update person set name=concat('Ms',n)where id=pid;
    -> end if;
    -> end
    -> $$
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'pid int)
begin
declare g varchar(50);
declare n varchar(50);
select name into n ' at line 1
mysql> create procedure salutation(in pid int)
    -> begin
    -> declare g varchar(10);
    -> declare n varchar(10);
    -> select name into n from person where id=pid;
    -> select gender into g from person where id=pid;
    -> if lower(g) = 'male'
    -> then update person set name=concat('Mr.',n) where id=pid;
    -> else update person set name=concat('Ms.',n) where id=pid;
    -> end if;
    -> end
    -> $$
Query OK, 0 rows affected (0.03 sec)

mysql> select*from person$$
+----+---------+--------+
| id | name    | gender |
+----+---------+--------+
|  1 | Abhi    | Male   |
|  2 | Akansha | Female |
|  3 | Arun    | Male   |
+----+---------+--------+
3 rows in set (0.01 sec)

mysql> call salutation(1)$$
Query OK, 1 row affected (0.02 sec)

mysql> select*from person$$
+----+---------+--------+
| id | name    | gender |
+----+---------+--------+
|  1 | Mr.Abhi | Male   |
|  2 | Akansha | Female |
|  3 | Arun    | Male   |
+----+---------+--------+
3 rows in set (0.00 sec)

mysql> call salutation(2,3)$$
ERROR 1318 (42000): Incorrect number of arguments for PROCEDURE employe_table.salutation; expected 1, got 2
mysql> call salutation(2)$$
Query OK, 1 row affected (0.01 sec)

mysql> call salutation(3)$$
Query OK, 1 row affected (0.01 sec)

mysql> select*from person$$
+----+------------+--------+
| id | name       | gender |
+----+------------+--------+
|  1 | Mr.Abhi    | Male   |
|  2 | Ms.Akansha | Female |
|  3 | Mr.Arun    | Male   |
+----+------------+--------+
3 rows in set (0.00 sec)


//////////////////////////////////////////////////////////////
Assig 2

mysql> create table user(userid int primary key auto_increment,name varchar(30)password varchar(30))$$
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'password varchar(30))' at line 1
mysql> create table user(userid int primary key auto_increment,name varchar(30),password varchar(30))$$
Query OK, 0 rows affected (0.07 sec)

mysql> create table user(userid int,name varchar(30),old_password varchar(30),Time time)$$
ERROR 1050 (42S01): Table 'user' already exists
mysql> create table user_history(userid int,name varchar(30),old_password varchar(30),Time time)$$
Query OK, 0 rows affected (0.04 sec)

mysql> insert into user(name,password) valuse('Abhi','abhi123')$$
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'valuse('Abhi','abhi123')' at line 1
mysql> insert into user(name,password) values('Abhi','abhi123')$$
Query OK, 1 row affected (0.01 sec)

mysql> insert into user(name,password) values('Arun','arun123')$$
Query OK, 1 row affected (0.01 sec)

mysql> insert into user(name,password) values('Ajit','ajit123')$$
Query OK, 1 row affected (0.01 sec)

mysql> select*from user$$
+--------+------+----------+
| userid | name | password |
+--------+------+----------+
|      1 | Abhi | abhi123  |
|      2 | Arun | arun123  |
|      3 | Ajit | ajit123  |
+--------+------+----------+
3 rows in set (0.00 sec)

mysql> create trigger update_user_history
    -> before update on user for each row
    -> begin
    -> insert into user_history(Name,old_password,Time) values(old.Name, old.Password, current_time());
    -> end
    -> $$
Query OK, 0 rows affected (0.03 sec)

mysql> update user set password='arun456' where userid=2$$
Query OK, 1 row affected (0.03 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> select*from user_history$$
+--------+------+--------------+----------+
| userid | name | old_password | Time     |
+--------+------+--------------+----------+
|   NULL | Arun | arun123      | 12:34:41 |
+--------+------+--------------+----------+
1 row in set (0.00 sec)

mysql> select*from user$$
+--------+------+----------+
| userid | name | password |
+--------+------+----------+
|      1 | Abhi | abhi123  |
|      2 | Arun | arun456  |
|      3 | Ajit | ajit123  |
+--------+------+----------+
3 rows in set (0.00 sec)

mysql> update user set password='abhi456' where userid=1$$
Query OK, 1 row affected (0.02 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> update user set password='ajit456' where userid=3$$
Query OK, 1 row affected (0.02 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> select*from user$$
+--------+------+----------+
| userid | name | password |
+--------+------+----------+
|      1 | Abhi | abhi456  |
|      2 | Arun | arun456  |
|      3 | Ajit | ajit456  |
+--------+------+----------+
3 rows in set (0.00 sec)

mysql> select*from user_history$$
+--------+------+--------------+----------+
| userid | name | old_password | Time     |
+--------+------+--------------+----------+
|   NULL | Arun | arun123      | 12:34:41 |
|   NULL | Abhi | abhi123      | 12:35:44 |
|   NULL | Ajit | ajit123      | 12:35:54 |
+--------+------+--------------+----------+
3 rows in set (0.00 sec)

mysql>
